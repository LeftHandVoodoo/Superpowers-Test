<?xml version="1.0" encoding="utf-8"?>
<Window
    x:Class="BarrowWeather.MainWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:BarrowWeather"
    xmlns:controls="using:BarrowWeather.Controls"
    Title="Barrow Weather">

    <Grid x:Name="RootGrid" Background="{StaticResource ClearSkyGradient}" Padding="24">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <!-- Header -->
        <Grid Grid.Row="0" Margin="0,0,0,20">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="Auto"/>
            </Grid.ColumnDefinitions>

            <StackPanel Grid.Column="0">
                <TextBlock Text="Barrow (Utqiagvik), Alaska"
                           FontSize="28"
                           FontWeight="SemiBold"
                           Foreground="White"/>
                <StackPanel Orientation="Horizontal" Spacing="8" Margin="0,4,0,0">
                    <Ellipse x:Name="FreshIndicator"
                             Width="8" Height="8"
                             Fill="{StaticResource FreshDataBrush}"
                             Visibility="Collapsed"/>
                    <TextBlock x:Name="LastUpdatedText"
                               FontSize="13"
                               Foreground="#B0BEC5"/>
                </StackPanel>
            </StackPanel>

            <Button x:Name="RefreshButton"
                    Grid.Column="1"
                    Style="{StaticResource AccentButtonStyle}"
                    Click="RefreshButton_Click">
                <StackPanel Orientation="Horizontal" Spacing="8">
                    <FontIcon x:Name="RefreshIcon" Glyph="&#xE72C;" FontSize="16"/>
                    <TextBlock Text="Refresh"/>
                </StackPanel>
            </Button>
        </Grid>

        <!-- Content Area -->
        <ScrollViewer Grid.Row="1">
            <StackPanel x:Name="ContentPanel" Spacing="16">
                <!-- Loading indicator -->
                <ProgressRing x:Name="LoadingRing"
                              IsActive="False"
                              Foreground="{StaticResource SkyBlueAccentBrush}"/>

                <!-- Error message -->
                <InfoBar x:Name="ErrorBar"
                         IsOpen="False"
                         Severity="Error"
                         Title="Error"/>

                <!-- Current Conditions Card -->
                <controls:CurrentConditionsCard x:Name="CurrentConditionsCard"
                                                Visibility="Collapsed"/>

                <!-- Alerts Card -->
                <controls:AlertsCard x:Name="AlertsCard" Visibility="Collapsed"/>

                <!-- Hourly Forecast Card -->
                <controls:HourlyForecastCard x:Name="HourlyForecastCard" Visibility="Collapsed"/>

                <!-- Daily Forecast Card -->
                <controls:DailyForecastCard x:Name="DailyForecastCard" Visibility="Collapsed"/>

                <!-- Placeholder -->
                <TextBlock x:Name="PlaceholderText"
                           Text="Click Refresh to load weather data"
                           FontSize="16"
                           Foreground="#90A4AE"
                           HorizontalAlignment="Center"
                           Margin="0,100,0,0"/>
            </StackPanel>
        </ScrollViewer>
    </Grid>
</Window>
